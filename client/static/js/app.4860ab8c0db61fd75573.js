webpackJsonp([1],{"+fNO":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-2"},[s("h2",[s("span",{staticClass:"badge badge-info"},[t._v(t._s(t.selectedRoom.name))])])]),t._v(" "),s("div",{staticClass:"col-md-8 text-center"},[s("div",{staticClass:"btn-group btn-group-md mb-3",attrs:{role:"group","aria-label":"Basic example"}},t._l(t.rooms,function(e,r){return s("button",{key:r,staticClass:"btn btn-secondary mr-2",attrs:{type:"button"},on:{click:function(s){t.selectedRoom.id=e.id,t.selectedRoom.name=e.name}}},[s("strong",[t._v("\n            "+t._s(e.name)+"\n          ")])])}))]),t._v(" "),s("div",{staticClass:"col-md-1 text-center"},[s("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){t.changeTimeFormat()}}},[t._v("\n          "+t._s(t.timeFormat)+"\n        ")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-11"},[s("calendar",{attrs:{selectedRoomId:t.selectedRoom.id,timeFormat:t.timeFormat,user:t.user}})],1),t._v(" "),s("div",{staticClass:"col-md-1"},[s("div",{staticClass:"btn-group mb-5",attrs:{role:"group","aria-label":"Basic example"}},[s("router-link",{attrs:{to:"/book/"+t.selectedRoom.id+"/"+t.selectedRoom.name}},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"}},[t._v("Book It!")])])],1),t._v(" "),1==t.user.admin?s("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[s("router-link",{attrs:{to:"/admin/list-user"}},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"}},[t._v("Employee List")])])],1):t._e()])])])},a=[],n={render:r,staticRenderFns:a};e.a=n},"+sJU":function(t,e,s){"use strict";function r(t){s("n3y0")}var a=s("Quvw"),n=s("kQcT"),o=s("VU/8"),i=r,l=o(a.a,n.a,!1,i,null,null);e.a=l.exports},"/IEQ":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-md-center"},[s("div",{staticClass:"col-md-8"},[s("router-view",{attrs:{user:t.user,allUsers:t.allUsers},on:{userChanged:t.getAllUsers}})],1)])},a=[],n={render:r,staticRenderFns:a};e.a=n},"0fWA":function(t,e,s){"use strict";var r=s("3wCG"),a=s("fLJo"),n=s("VU/8"),o=n(r.a,a.a,!1,null,null,null);e.a=o.exports},"1lsa":function(t,e,s){"use strict";var r=s("//Fk"),a=s.n(r);e.a={name:"Employee",data:function(){return{URL:URL,allUsers:[]}},props:["user"],created:function(){this.user.access&&1==this.user.admin||this.$router.push("/"),this.getAllUsers()},methods:{getAllUsers:function(){var t=this;fetch(this.URL+"admin/users/"+this.user.hash,{method:"GET"}).then(this.status).then(this.json).then(function(e){if(200==e.server.status)t.allUsers=e.data;else{var s="Error in getAllUsers()\nStatus: "+e.server.status+"\nError code: "+e.server.code+"\nInfo: "+e.server.information;alert(s)}})},status:function(t){return 200==t.status?a.a.resolve(t):(console.log("ERROR RESPONSE"),a.a.reject(new Error(t.statusText)))},json:function(t){return t.json()}}}},"27G0":function(t,e,s){"use strict";function r(t){s("WMQR")}var a=s("C0qH"),n=s("Kev7"),o=s("VU/8"),i=r,l=o(a.a,n.a,!1,i,"data-v-01647d2c",null);e.a=l.exports},"3wCG":function(t,e,s){"use strict";var r=s("//Fk"),a=s.n(r),n=s("HzDc");e.a={name:"EditUser",data:function(){return{URL:URL,name:"",email:"",showModal:!1}},components:{userForm:n.a},props:["user","allUsers"],created:function(){this.user.access&&1==this.user.admin||this.$router.push("/"),this.getUserInfo()},methods:{getUserInfo:function(){for(var t=0,e=this.allUsers.length;t<=e;t++)if(this.allUsers[t].id==this.$route.params.id)return this.name=this.allUsers[t].name,this.email=this.allUsers[t].email,!1},saveUser:function(t){var e=this;fetch(this.URL+"admin/users/",{method:"PUT",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"hash="+this.user.hash+"&id="+this.$route.params.id+"&name="+t.name+"&email="+t.email+"&password="+t.password}).then(this.status).then(this.json).then(function(t){if(200==t.server.status)e.showModal=!0,e.$emit("userChanged");else{var s="Error in saveUser()\nStatus: "+t.server.status+"\nError code: "+t.server.code+"\nInfo: "+t.server.information;alert(s)}})},status:function(t){return 200==t.status?a.a.resolve(t):(console.log("ERROR RESPONSE"),a.a.reject(new Error(t.statusText)))},json:function(t){return t.json()}}}},"4V6J":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row col-md-12 justify-content-md-center"},[s("div",{staticClass:"row col-md-4"},[s("div",{staticClass:"col-md-12"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"alert alert-success",attrs:{role:"alert"}},[s("strong",[t._v("User added successfuly!")]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.showModal=!1}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),s("user-form",{attrs:{allUsers:t.allUsers,clearForm:t.clearForm},on:{saveUser:t.saveUser}})],1)])])},a=[],n={render:r,staticRenderFns:a};e.a=n},"82Bj":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row col-md-12 justify-content-md-center"},[s("div",{staticClass:"col-md-4"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"alert alert-success",attrs:{role:"alert"}},[s("strong",[t._v("User deleted successfuly!")]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.showModal=!1}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])]),t._v(" "),s("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),s("tbody",t._l(t.allUsers,function(e,r){return s("tr",{key:r},[s("th",{attrs:{scope:"row"}},[t._v(" "+t._s(e.id)+" ")]),t._v(" "),s("td",[s("a",{attrs:{href:"mailto:"+e.email}},[t._v(" "+t._s(e.name)+" ")])]),t._v(" "),s("td",[s("a",{attrs:{href:"mailto:"+e.email}},[t._v(" "+t._s(e.email)+" ")])]),t._v(" "),s("td",[s("router-link",{attrs:{to:"/admin/edit-user/"+e.id}},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"}},[t._v("Edit")])])],1),t._v(" "),s("td",[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-toggle":"modal","data-target":"#deleteConfirm"},on:{click:function(s){t.selectedId=e.id,t.selectedName=e.name}}},[t._v("\n            Delete\n          ")])])])}))]),t._v(" "),s("router-link",{attrs:{to:"/admin/add-user/"}},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"}},[t._v("Add Employee")])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"deleteConfirm",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),s("div",{staticClass:"modal-body"},[t._v("\n          Are you sure you want to delete the "+t._s(t.selectedName)+" ?\n        ")]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("No")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{"data-dismiss":"modal",type:"button"},on:{click:t.deleteUser}},[t._v("Yes")])])])])])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("ID")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Name")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Email")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Edit")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Delete")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Delete Confirm")]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],n={render:r,staticRenderFns:a};e.a=n},"8t/9":function(t,e,s){"use strict";var r=s("RZbS"),a=s("4V6J"),n=s("VU/8"),o=n(r.a,a.a,!1,null,null,null);e.a=o.exports},Bykj:function(t,e,s){"use strict";var r=s("MbGi"),a=s("EJY2"),n=s("VU/8"),o=n(r.a,a.a,!1,null,null,null);e.a=o.exports},C0qH:function(t,e,s){"use strict";var r=s("//Fk"),a=s.n(r),n=s("Bykj");e.a={name:"Calendar",data:function(){return{URL:URL,allEvents:[],month:"",monthArr:[],year:(new Date).getFullYear(),monthNum:(new Date).getMonth(),format:"Mo",engWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],ruWeek:["Mo","Tu","We","Th","Fr","Sa","Su"]}},props:["selectedRoomId","timeFormat","user"],watch:{selectedRoomId:function(){this.getAllEvents()},monthNum:function(){this.getAllEvents()}},created:function(){this.selectedRoomId&&this.getAllEvents()},components:{Month:n.a},methods:{windowClosed:function(){this.getAllEvents()},getMonthArr:function(){for(var t=(Math.floor((new Date).getTime()/1e3),Math.floor(new Date(this.year,this.monthNum,1).getTime()/1e3),Math.floor(new Date(this.year,this.monthNum+1,0).getTime()/1e3),{}),e=0,s=this.allEvents.length;e<s;e++){var r=new Date(1e3*this.allEvents[e].start).getDate();t[r]?t[r].push(this.allEvents[e]):t[r]=[this.allEvents[e]]}this.monthArr=[];var a=["January","February","March","April","May","June","July","August","September","October","November","December"],n=new Date(this.year,this.monthNum);this.month=a[this.monthNum],this.monthArr[0]=[];for(var o=0;o<this.getNumDay(n);o++)this.monthArr[0].push({});for(var i=0;n.getMonth()==this.monthNum;){var l={day:n.getDate(),events:t[n.getDate()]||[]};this.monthArr[i].push(l),6==this.getNumDay(n)&&(i++,this.monthArr[i]=[]),n.setDate(n.getDate()+1)}},getNumDay:function(t){var e=t.getDay();return"Mo"==this.format?(0==e&&(e=7),e-1):e},getNextMonth:function(){this.monthNum+1>11?(this.monthNum=0,this.year++):this.monthNum++},getPrevMonth:function(){this.monthNum-1<0?(this.monthNum=11,this.year--):this.monthNum--},changeFormat:function(){"Mo"==this.format?this.format="Su":this.format="Mo",this.getMonthArr()},getAllEvents:function(){var t=this;fetch(this.URL+"booker/events/"+this.selectedRoomId+"/"+(this.monthNum+1)+"/"+this.year,{method:"GET"}).then(this.status).then(this.json).then(function(e){200==e.server.status?(t.allEvents=e.data,t.getMonthArr()):(t.allEvents=[],t.getMonthArr())})},status:function(t){return 200==t.status?a.a.resolve(t):(console.log("ERROR RESPONSE"),a.a.reject(new Error(t.statusText)))},json:function(t){return t.json()}}}},DHjN:function(t,e,s){"use strict";var r=s("//Fk"),a=s.n(r),n=s("vb7P");e.a={props:["user","timeInterval"],components:{EventForm:n.a},data:function(){return{URL:URL,eventSubmited:[]}},methods:{parseDateSubmited:function(){for(var t=null,e=0,s=this.eventSubmited.length;e<s;e++)t=new Date(1e3*this.eventSubmited[e].start),12==this.timeInterval?this.eventSubmited[e].start=t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):this.eventSubmited[e].start=t.toLocaleString("ru-RU",{hour:"numeric",minute:"numeric",hour24:!0}),t=new Date(1e3*this.eventSubmited[e].end),12==this.timeInterval?this.eventSubmited[e].end=t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):this.eventSubmited[e].end=t.toLocaleString("ru-RU",{hour:"numeric",minute:"numeric",hour24:!0}),1==this.eventSubmited[e].success?this.eventSubmited[e].success="Created":this.eventSubmited[e].success="Not Created",this.eventSubmited[e].created=t.toLocaleDateString()},saveEvent:function(t){var e=this;this.eventSubmited=[],fetch(this.URL+"user/events/",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"userId="+t.userId+"&roomId="+t.roomId+"&desc="+t.desc+"&timeStart="+t.timeStart+"&timeEnd="+t.timeEnd+"&timeCreate="+t.timeCreate+"&type="+t.type+"&duration="+t.duration}).then(this.status).then(this.json).then(function(t){if(200==t.server.status)e.eventSubmited=t.data,e.parseDateSubmited();else{var s="Error in saveUser()\nStatus: "+t.server.status+"\nError code: "+t.server.code+"\nInfo: "+t.server.information;alert(s)}})},status:function(t){return 200==t.status?a.a.resolve(t):(console.log("ERROR RESPONSE"),a.a.reject(new Error(t.statusText)))},json:function(t){return t.json()}}}},EJY2:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tbody",t._l(t.monthArr,function(e,r){return s("tr",{key:r},t._l(e,function(e,r){return s("td",{key:r},[s("day",{attrs:{day:e,timeFormat:t.timeFormat,user:t.user,selectedRoomId:t.selectedRoomId},on:{windowClosed:t.windowClosed}})],1)}))}))},a=[],n={render:r,staticRenderFns:a};e.a=n},Ecii:function(t,e,s){"use strict";var r=s("//Fk"),a=s.n(r);e.a={props:["user","timeInterval","eventDetail","eventSubmited","eventDeleted","eventUpdated"],data:function(){return{URL:URL,allUsers:[],errorMsg:"",errorInfoMsg:"",selectedUserId:"",day:"",month:"",year:"",description:"",eventTime:{startHour:8,startMinutes:0,endHour:20,endMinutes:0},recurringEvent:!1,recurringType:"",recurringDuration:"",recurringApplyOccurrences:!1,btnDetailAccess:!0,daysCount:[],yearsCount:[],monthCount:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],hoursCount:{selectedStart:"am",selectedEnd:"pm",am:[8,9,10,11],pm:[12,1,2,3,4,5,6,7,8]}}},watch:{eventDetail:{handler:function(){this.selectedUserId=this.eventDetail.user_id,this.description=this.eventDetail.desc,this.parseDate(),0==this.user.admin&&(this.allUsers=[],this.allUsers.push({name:this.eventDetail.user_name,id:this.eventDetail.user_id}),this.selectedUserId=this.eventDetail.user_id,this.eventDetail.user_id!=this.user.id&&(this.btnDetailAccess=!1)),this.errorInfoMsg="";var t=Math.floor((new Date).getTime()/1e3);this.eventDetail.start<t&&(this.errorInfoMsg="You can not delete or update a past event!")},deep:!0}},created:function(){this.user.access?this.selectedUserId=this.user.id:this.$router.push("/"),1==this.user.admin?this.getAllUsers():this.allUsers.push({name:this.user.name,id:this.user.id});var t=new Date;this.day=t.getDate(),this.month=t.getMonth(),this.year=t.getFullYear();for(var e=0;e<3;e++)this.yearsCount.push(+this.year+e);this.createDateOptions(),12==this.timeInterval&&(this.eventTime.endHour=8)},computed:{validBtnAccess:function(){return!(!this.validDescription||!this.validDuration)},validDescription:function(){return this.description.length>=3&&this.description.length<=100},validDuration:function(){return!this.recurringEvent||("Weekly"==this.recurringType&&this.recurringDuration>=1&&this.recurringDuration<=4||("Bi-weekly"==this.recurringType&&(1==this.recurringDuration||2==this.recurringDuration)||"Monthly"==this.recurringType))}},methods:{parseDate:function(){var t=new Date(1e3*this.eventDetail.start);if(this.day=t.getDate(),this.month=t.getMonth(),this.year=t.getFullYear(),12==this.timeInterval){this.eventTime.startMinutes=t.toLocaleString("en-US",{minute:"numeric",hour12:!0});var e=t.toLocaleString("en-US",{hour:"numeric",hour12:!0});e=e.split(" "),this.eventTime.startHour=+e[0],this.hoursCount.selectedStart=e[1].toLowerCase(),t=new Date(1e3*this.eventDetail.end),this.eventTime.endMinutes=t.toLocaleString("en-US",{minute:"numeric",hour12:!0}),e=t.toLocaleString("en-US",{hour:"numeric",hour12:!0}),e=e.split(" "),this.eventTime.endHour=+e[0],this.hoursCount.selectedEnd=e[1].toLowerCase()}else this.eventTime.startHour=t.getHours(),this.eventTime.startMinutes=t.getMinutes(),t=new Date(1e3*this.eventDetail.end),this.eventTime.endHour=t.getHours(),this.eventTime.endMinutes=t.getMinutes()},saveEvent:function(){function t(t){return Date.parse(t)/1e3}this.errorMsg="";var e={},s=this.eventTime.startHour,r=this.eventTime.endHour,a="",n="";12==this.timeInterval?("pm"==this.hoursCount.selectedStart&&s<12&&(s+=12),"pm"==this.hoursCount.selectedEnd&&r<12&&(r+=12),a=1+this.month+"/"+this.day+"/"+this.year+" "+s+":"+this.eventTime.startMinutes+":00",n=1+this.month+"/"+this.day+"/"+this.year+" "+r+":"+this.eventTime.endMinutes+":00"):(a=1+this.month+"/"+this.day+"/"+this.year+" "+this.eventTime.startHour+":"+this.eventTime.startMinutes+":00",n=1+this.month+"/"+this.day+"/"+this.year+" "+this.eventTime.endHour+":"+this.eventTime.endMinutes+":00"),e.timeStart=Math.floor(t(a)),e.timeEnd=Math.floor(t(n)),e.timeCreate=Math.floor((new Date).getTime()/1e3),e.desc=this.description,e.type=this.recurringType,e.duration=this.recurringDuration,e.roomId=this.$route.params.id,e.userId=this.selectedUserId,+e.timeStart+1800<=e.timeEnd?e.timeStart<e.timeCreate?this.errorMsg="Can not reserve on the past date or time!":this.$emit("eventFormSave",e):this.errorMsg="Enter the correct amount of time!"},deleteEvent:function(){this.errorMsg="Result:";var t={};t.id=this.eventDetail.id,this.recurringApplyOccurrences||(t.recurring="false"),this.recurringApplyOccurrences&&(t.recurring="true"),this.$emit("eventFormDelete",t)},updateEvent:function(){this.errorMsg="Result:";var t={userId:this.selectedUserId,desc:this.description,startHour:this.eventTime.startHour,startMinutes:this.eventTime.startMinutes,endHour:this.eventTime.endHour,endMinutes:this.eventTime.endMinutes,reacurring:this.recurringApplyOccurrences};12==this.timeInterval&&("pm"==this.hoursCount.selectedStart&&t.startHour<12&&(t.startHour=t.startHour+12),"pm"==this.hoursCount.selectedEnd&&t.endHour<12&&(t.endHour=t.endHour+12)),this.$emit("eventFormUpdate",t)},createDateOptions:function(){var t=new Date(this.year,this.month+1,0).getDate();this.day>t&&(this.day=t),this.daysCount=[];for(var e=1;e<=t;e++)this.daysCount.push(e)},getAllUsers:function(){var t=this;fetch(this.URL+"admin/users/"+this.user.hash,{method:"GET"}).then(this.status).then(this.json).then(function(e){if(200==e.server.status)t.allUsers=e.data;else{var s="Error in getAllUsers()\nStatus: "+e.server.status+"\nError code: "+e.server.code+"\nInfo: "+e.server.information;alert(s)}})},status:function(t){return 200==t.status?a.a.resolve(t):(console.log("ERROR RESPONSE"),a.a.reject(new Error(t.statusText)))},json:function(t){return t.json()}}}},H0L4:function(t,e,s){"use strict";var r=s("HcAh"),a=s("82Bj"),n=s("VU/8"),o=n(r.a,a.a,!1,null,null,null);e.a=o.exports},HcAh:function(t,e,s){"use strict";var r=s("//Fk"),a=s.n(r);e.a={name:"EmployeeList",data:function(){return{URL:URL,showModal:!1,selectedId:"",selectedName:""}},props:["user","allUsers"],created:function(){this.user.access&&1==this.user.admin||this.$router.push("/")},methods:{deleteUser:function(){var t=this;fetch(this.URL+"admin/users/"+this.user.hash+"/"+this.selectedId,{method:"DELETE"}).then(this.status).then(this.json).then(function(e){if(200==e.server.status)t.showModal=!0,t.$emit("userChanged");else{var s="Error in getRooms()\nStatus: "+e.server.status+"\nError code: "+e.server.code+"\nInfo: "+e.server.information;alert(s)}})},status:function(t){return 200==t.status?a.a.resolve(t):(console.log("ERROR RESPONSE"),a.a.reject(new Error(t.statusText)))},json:function(t){return t.json()}}}},HzDc:function(t,e,s){"use strict";var r=s("gBas"),a=s("NXEg"),n=s("VU/8"),o=n(r.a,a.a,!1,null,null,null);e.a=o.exports},IdSm:function(t,e,s){"use strict";var r=s("//Fk"),a=s.n(r),n=s("woOf"),o=s.n(n),i=s("vb7P");e.a={name:"EventDetail",data:function(){return{URL:URL,eventDeleted:[],eventUpdated:[],eventDetail:{id:"",user_id:"",user_name:"",created:"",desc:"",end:"",start:"",event_id:"",room_id:""},timeInterval:this.$route.params.timeInterval}},props:["user"],components:{EventForm:i.a},created:function(){this.getEventDetail()},methods:{clearPastResult:function(){this.eventDeleted=[],this.eventUpdated=[]},parseDate:function(t){for(var e=null,s=0,r=t.length;s<r;s++)e=new Date(1e3*t[s].start),12==this.timeInterval?t[s].start=e.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):t[s].start=e.toLocaleString("ru-RU",{hour:"numeric",minute:"numeric",hour24:!0}),e=new Date(1e3*t[s].end),12==this.timeInterval?t[s].end=e.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):t[s].end=e.toLocaleString("ru-RU",{hour:"numeric",minute:"numeric",hour24:!0}),t[s].created=e.toLocaleDateString(),1==t[s].success?t[s].success="Updated":t[s].success="Not updated";return t},updateEvent:function(t){var e=this;fetch(this.URL+"user/events/",{method:"PUT",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"hash="+this.user.hash+"&userId="+t.userId+"&eventId="+this.$route.params.id+"&roomId="+this.$route.params.selectedRoomId+"&startHour="+t.startHour+"&startMinutes="+t.startMinutes+"&endHour="+t.endHour+"&endMinutes="+t.endMinutes+"&desc="+t.desc+"&reacurring="+t.reacurring}).then(this.status).then(this.json).then(function(t){200==t.server.status&&(e.eventUpdated=e.parseDate(t.data))})},deleteEvent:function(t){var e=this;fetch(this.URL+"user/events/"+this.user.hash+"/"+t.id+"/"+t.recurring,{method:"DELETE"}).then(this.status).then(this.json).then(function(t){200==t.server.status&&(e.eventDeleted=e.parseDate(t.data))})},getEventDetail:function(){var t=this;fetch(this.URL+"user/events/"+this.$route.params.id,{method:"GET"}).then(this.status).then(this.json).then(function(e){if(200==e.server.status)o()(t.eventDetail,e.data[0]);else{var s="Error in getEventDetail()\nStatus: "+e.server.status+"\nError code: "+e.server.code+"\nInfo: "+e.server.information;alert(s)}})},status:function(t){return 200==t.status?a.a.resolve(t):(console.log("ERROR RESPONSE"),a.a.reject(new Error(t.statusText)))},json:function(t){return t.json()}}}},Kev7:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 div-bordered"},[s("button",{staticClass:"btn btn-secondary float-right",attrs:{type:"button"},on:{click:t.getPrevMonth}},[t._v("<<")])]),t._v(" "),s("div",{staticClass:"col-md-4 div-bordered text-center"},[s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.year)+" - "+t._s(t.month))]),t._v(" "),s("button",{staticClass:"float-right btn btn-outline-dark",on:{click:t.changeFormat}},[t._v("\n          "+t._s(t.format)+"\n        ")])]),t._v(" "),s("div",{staticClass:"col-md-4 div-bordered"},[s("button",{staticClass:"btn btn-secondary float-left",attrs:{type:"button"},on:{click:t.getNextMonth}},[t._v(">>")])])]),t._v(" "),s("div",{staticClass:"row"},[s("table",{staticClass:"table table-bordered"},[s("thead",["Mo"==t.format?s("tr",t._l(t.ruWeek,function(e,r){return s("th",{key:r,staticStyle:{width:"14.29%"},attrs:{scope:"col"}},[t._v(" "+t._s(e)+" ")])})):t._e(),t._v(" "),"Su"==t.format?s("tr",t._l(t.engWeek,function(e,r){return s("th",{key:r,staticStyle:{width:"14.29%"},attrs:{scope:"col"}},[t._v(" "+t._s(e)+" ")])})):t._e()]),t._v(" "),s("month",{attrs:{monthArr:t.monthArr,timeFormat:t.timeFormat,user:t.user,selectedRoomId:t.selectedRoomId},on:{windowClosed:t.windowClosed}})],1)])])},a=[],n={render:r,staticRenderFns:a};e.a=n},M93x:function(t,e,s){"use strict";var r=s("xJD8"),a=s("T5r7"),n=s("VU/8"),o=n(r.a,a.a,!1,null,null,null);e.a=o.exports},MbGi:function(t,e,s){"use strict";var r=s("+sJU");e.a={name:"Month",data:function(){return{}},props:["monthArr","timeFormat","user","selectedRoomId"],components:{Day:r.a},methods:{windowClosed:function(){this.$emit("windowClosed")}}}},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("7+uW"),a=s("M93x"),n=s("YaEn");r.a.config.productionTip=!1,n.a.beforeEach(function(t,e,s){localStorage.user||"/login"==t.path?"/login"==t.path&&localStorage.user?s("/"):s():s("/login")}),new r.a({el:"#app",router:n.a,template:"<App/>",components:{App:a.a}})},NRqe:function(t,e,s){"use strict";var r=s("DHjN"),a=s("rliA"),n=s("VU/8"),o=n(r.a,a.a,!1,null,null,null);e.a=o.exports},NXEg:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",[s("div",{staticClass:"form-group"},[s("label",[t._v("Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),""==t.name?s("small",{staticClass:"form-text text-muted"},[t._v("Start whith latin, remain are numbers and latin (3 - 20 characters) ...")]):t._e(),t._v(" "),!t.validName&t.name.length>0?s("small",{staticClass:"form-text text-danger"},[t._v("Not yet correct ...")]):t._e(),t._v(" "),t.validName&t.nameExist?s("small",{staticClass:"form-text text-danger"},[t._v("Name is already taken, please enter another!")]):t._e(),t._v(" "),t.validName&!t.nameExist?s("small",{staticClass:"form-text text-success"},[t._v("Сorrectly!")]):t._e()]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("Email")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email","aria-describedby":"emailHelp",placeholder:"Enter email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),""==t.email?s("small",{staticClass:"form-text text-muted"},[t._v("Start whith latin, remain are numbers and latin (3 - 20 characters) ...")]):t._e(),t._v(" "),!t.validEmail&t.email.length>0?s("small",{staticClass:"form-text text-danger"},[t._v("Not yet correct ...")]):t._e(),t._v(" "),t.validEmail&t.emailExist?s("small",{staticClass:"form-text text-danger"},[t._v("Email is already taken, please enter another!")]):t._e(),t._v(" "),t.validEmail&!t.emailExist?s("small",{staticClass:"form-text text-success"},[t._v("Сorrectly!")]):t._e()]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("Password")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),""==t.password?s("small",{staticClass:"form-text text-muted"},[t._v("Only latin and numbers (5 - 32 characters) ...")]):t._e(),t._v(" "),!t.validPassword&t.password.length>0?s("small",{staticClass:"form-text text-danger"},[t._v("Not yet correct ...")]):t._e(),t._v(" "),t.validPassword?s("small",{staticClass:"form-text text-success"},[t._v("Сorrectly!")]):t._e()]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("Confirm password")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.confirm,expression:"confirm",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",placeholder:"Confirm the password"},domProps:{value:t.confirm},on:{input:function(e){e.target.composing||(t.confirm=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),""==t.confirm?s("small",{staticClass:"form-text text-muted"},[t._v("Confirm the password")]):t._e(),t._v(" "),t.password!=t.confirm&""!=t.confirm?s("small",{staticClass:"form-text text-danger"},[t._v("Not yet correct ...")]):t._e(),t._v(" "),t.password==t.confirm&t.validPassword?s("small",{staticClass:"form-text text-success"},[t._v("Сorrectly!")]):t._e()]),t._v(" "),s("router-link",{attrs:{to:"/admin/list-user"}},[s("button",{staticClass:"float-left btn btn-dark"},[t._v("\n      Cancel\n    ")])]),t._v(" "),s("button",{staticClass:"float-right btn btn-dark",attrs:{disabled:!t.validBtnAccess},on:{click:function(e){e.preventDefault(),t.saveUser()}}},[t._v("\n    Submit\n  ")])],1)},a=[],n={render:r,staticRenderFns:a};e.a=n},Quvw:function(t,e,s){"use strict";e.a={name:"Day",data:function(){return{}},props:["day","timeFormat","user","selectedRoomId"],filters:{formatTime:function(t,e){if(24==e){return new Date(1e3*t).toLocaleString("ru-RU",{hour:"numeric",minute:"numeric",hour24:!0})}return new Date(1e3*t).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})}},methods:{newWindow:function(t){var e=this;window.open(WINDOW_OPEN_URL+t+"/"+this.timeFormat+"/"+this.selectedRoomId,"Event Details","left=200,top=100,width=1100,height=800,toolbar=1,resizable=0").onbeforeunload=function(){e.$emit("windowClosed")}}}}},RFbs:function(t,e,s){"use strict";var r=s("IdSm"),a=s("dL7w"),n=s("VU/8"),o=n(r.a,a.a,!1,null,null,null);e.a=o.exports},RZbS:function(t,e,s){"use strict";var r=s("//Fk"),a=s.n(r),n=s("HzDc");e.a={name:"AddUser",data:function(){return{URL:URL,showModal:!1,clearForm:!1}},components:{userForm:n.a},props:["user","allUsers"],created:function(){this.user.access&&1==this.user.admin||this.$router.push("/")},methods:{saveUser:function(t){var e=this;fetch(this.URL+"admin/users/",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"hash="+this.user.hash+"&name="+t.name+"&email="+t.email+"&password="+t.password}).then(this.status).then(this.json).then(function(t){if(200==t.server.status)e.showModal=!0,e.clearForm=!0,setTimeout(function(){e.clearForm=!1},1e3),e.$emit("userChanged");else{var s="Error in saveUser()\nStatus: "+t.server.status+"\nError code: "+t.server.code+"\nInfo: "+t.server.information;alert(s)}})},status:function(t){return 200==t.status?a.a.resolve(t):(console.log("ERROR RESPONSE"),a.a.reject(new Error(t.statusText)))},json:function(t){return t.json()}}}},T5r7:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light mb-5"},[s("router-link",{attrs:{to:"/"}},[s("span",{staticClass:"navbar-brand"},[t._v("Booker")])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"collapse navbar-collapse"},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item active"},[s("router-link",{attrs:{to:"/"}},[s("span",{staticClass:"nav-link"},[t._v(" Home "),s("span",{staticClass:"sr-only"},[t._v("(current)")])])])],1)]),t._v(" "),t.user.access?s("div",{staticClass:"row"},[1==t.user.admin?s("router-link",{staticClass:"btn btn-light mr-sm-1 my-sm-0 text-primary font-weight-bold",attrs:{to:"/admin/list-user"}},[t._v("\n          Admin panel\n        ")]):t._e(),t._v(" "),s("button",{staticClass:"btn btn-light mr-sm-1 my-sm-0 text-primary font-weight-bold",attrs:{type:"button"}},[t._v("\n          "+t._s(t.user.name)+"\n        ")]),t._v(" "),s("button",{staticClass:"btn btn-outline-dark mr-sm-2 my-sm-0",attrs:{type:"button"},on:{click:function(e){t.logOut()}}},[s("i",{staticClass:"fa fa-sign-out",attrs:{"aria-hidden":"true"}})])],1):t._e()])],1),t._v(" "),s("router-view",{attrs:{user:t.user,timeInterval:t.timeInterval},on:{timeIntervalChange:function(e){t.timeInterval=e}}})],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],n={render:r,staticRenderFns:a};e.a=n},WMQR:function(t,e){},YaEn:function(t,e,s){"use strict";var r=s("7+uW"),a=s("/ocq"),n=s("xJsL"),o=s("t3u0"),i=s("NRqe"),l=s("tso7"),c=s("H0L4"),u=s("8t/9"),d=s("0fWA"),m=s("RFbs");r.a.use(a.a),e.a=new a.a({routes:[{path:"/",name:"Room page",component:o.a},{path:"/login",name:"Login page",component:n.a},{path:"/book/:id/:room_name",name:"EventForm page",component:i.a},{path:"/event/detail/:id/:timeInterval/:selectedRoomId",name:"EventDetail page",component:m.a},{path:"/admin",name:"Employee List",component:l.a,children:[{path:"add-user",component:u.a},{path:"edit-user/:id",component:d.a},{path:"list-user",component:c.a}]}]})},Zoqz:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row col-md-12 justify-content-md-center"},[s("div",{staticClass:"row col-md-4"},[s("div",{staticClass:"col-md-12"},[t.errorMsg?s("div",{staticClass:"alert alert-danger"},[s("strong",[t._v(t._s(t.errorMsg))]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.errorMsg=""}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]):t._e(),t._v(" "),s("form",[s("div",{staticClass:"form-group"},[s("label",[t._v("Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),""==t.name?s("small",{staticClass:"form-text text-muted"},[t._v("Start whith latin, one space between words is allowed (3 - 50 characters) ...")]):t._e(),t._v(" "),!t.validName&t.name.length>0?s("small",{staticClass:"form-text text-danger"},[t._v("Not yet correct ...")]):t._e(),t._v(" "),t.validName?s("small",{staticClass:"form-text text-success"},[s("strong",[t._v("Сorrectly!")])]):t._e()]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("Password")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",placeholder:"Enter your password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),""==t.password?s("small",{staticClass:"form-text text-muted"},[t._v("Only latin and numbers (5 - 32 characters) ...")]):t._e(),t._v(" "),!t.validPassword&t.password.length>0?s("small",{staticClass:"form-text text-danger"},[t._v("Not yet correct ...")]):t._e(),t._v(" "),t.validPassword?s("small",{staticClass:"form-text text-success"},[s("strong",[t._v("Сorrectly!")])]):t._e()])]),t._v(" "),s("button",{staticClass:"float-right btn btn-dark",attrs:{disabled:!t.validBtnAccess},on:{click:function(e){t.logIn()}}},[t._v("\n          Login\n        ")])])])])},a=[],n={render:r,staticRenderFns:a};e.a=n},dL7w:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("event-form",{attrs:{user:t.user,timeInterval:t.timeInterval,eventDetail:t.eventDetail,eventUpdated:t.eventUpdated,eventDeleted:t.eventDeleted},on:{eventFormUpdate:t.updateEvent,eventFormDelete:t.deleteEvent,clearPastResult:t.clearPastResult}})},a=[],n={render:r,staticRenderFns:a};e.a=n},dWQQ:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row col-md-12 justify-content-md-center"},[s("div",{staticClass:"row col-md-5"},[s("div",{staticClass:"col-md-12"},[s("h3",[t._v(" Boardroom booker: "+t._s(t.$route.params.room_name)+" ")]),t._v(" "),s("form",[t.errorInfoMsg?s("div",{staticClass:"alert alert-info"},[s("strong",[t._v(t._s(t.errorInfoMsg))])]):t._e(),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("1. Booked for:")]),t._v(" "),s("div",{staticClass:"btn-toolbar",attrs:{role:"toolbar"}},[s("div",{staticClass:"btn-group col-md-5",attrs:{role:"group"}},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedUserId,expression:"selectedUserId"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedUserId=e.target.multiple?s:s[0]}}},t._l(t.allUsers,function(e,r){return s("option",{key:r,domProps:{value:e.id}},[t._v("\n                  "+t._s(e.name)+"\n                ")])}))])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("2. I wood like to book this meeting:")]),t._v(" "),s("div",{staticClass:"btn-toolbar",attrs:{role:"toolbar"}},[s("div",{staticClass:"btn-group col-md-12",attrs:{role:"group"}},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control",attrs:{disabled:t.eventDetail},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.month=e.target.multiple?s:s[0]},function(e){t.createDateOptions()}]}},t._l(t.monthCount,function(e,r){return s("option",{key:r,domProps:{value:r}},[t._v("\n                  "+t._s(e)+"\n                ")])})),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.day,expression:"day"}],staticClass:"form-control",attrs:{disabled:t.eventDetail},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.day=e.target.multiple?s:s[0]}}},t._l(t.daysCount,function(e,r){return s("option",{key:r,domProps:{value:e}},[t._v("\n                  "+t._s(e)+"\n                ")])})),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control",attrs:{disabled:t.eventDetail},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.year=e.target.multiple?s:s[0]}}},t._l(t.yearsCount,function(e,r){return s("option",{key:r,domProps:{value:e}},[t._v("\n                  "+t._s(e)+"\n                ")])}))])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("3. Specify what the time start and end of the meeting (This will be what people see on the calendar.)")]),t._v(" "),s("div",{staticClass:"btn-toolbar",attrs:{role:"toolbar"}},[s("div",{staticClass:"btn-group col-md-12",attrs:{role:"group"}},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.eventTime.startHour,expression:"eventTime.startHour"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.eventTime,"startHour",e.target.multiple?s:s[0])}}},[t._l(13,function(e,r){return 24==t.timeInterval?s("option",{key:r,domProps:{value:e+7}},[t._v("\n                  "+t._s(e+7)+"\n                ")]):t._e()}),t._v(" "),t._l(t.hoursCount[t.hoursCount.selectedStart],function(e,r){return 12==t.timeInterval?s("option",{key:r,domProps:{value:e}},[t._v("\n                  "+t._s(e)+"\n                ")]):t._e()})],2),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.eventTime.startMinutes,expression:"eventTime.startMinutes"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.eventTime,"startMinutes",e.target.multiple?s:s[0])}}},[s("option",{domProps:{value:0}},[t._v("00")]),t._v(" "),s("option",{domProps:{value:30}},[t._v("30")])]),t._v(" "),12==t.timeInterval?s("select",{directives:[{name:"model",rawName:"v-model",value:t.hoursCount.selectedStart,expression:"hoursCount.selectedStart"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.hoursCount,"selectedStart",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"am"}},[t._v(" AM ")]),t._v(" "),s("option",{attrs:{value:"pm"}},[t._v(" PM ")])]):t._e()])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"btn-toolbar",attrs:{role:"toolbar"}},[s("div",{staticClass:"btn-group col-md-12",attrs:{role:"group"}},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.eventTime.endHour,expression:"eventTime.endHour"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.eventTime,"endHour",e.target.multiple?s:s[0])}}},[t._l(13,function(e,r){return 24==t.timeInterval?s("option",{key:r,domProps:{value:e+7}},[t._v("\n                  "+t._s(e+7)+"\n                ")]):t._e()}),t._v(" "),t._l(t.hoursCount[t.hoursCount.selectedEnd],function(e,r){return 12==t.timeInterval?s("option",{key:r,domProps:{value:e}},[t._v("\n                  "+t._s(e)+"\n                ")]):t._e()})],2),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.eventTime.endMinutes,expression:"eventTime.endMinutes"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.eventTime,"endMinutes",e.target.multiple?s:s[0])}}},[s("option",{domProps:{value:0}},[t._v("00")]),t._v(" "),s("option",{domProps:{value:30}},[t._v("30")])]),t._v(" "),12==t.timeInterval?s("select",{directives:[{name:"model",rawName:"v-model",value:t.hoursCount.selectedEnd,expression:"hoursCount.selectedEnd"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.hoursCount,"selectedEnd",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"am"}},[t._v(" AM ")]),t._v(" "),s("option",{attrs:{value:"pm"}},[t._v(" PM ")])]):t._e()])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("4. Enter the specifics for the meeting. (This will be what people see when they click on an event link.)")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{rows:"4"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),t._v(" "),t.validDescription?t._e():s("small",{staticClass:"form-text text-muted"},[t._v("Enter a description of the event (3-100 chars)")]),t._v(" "),t.validDescription?s("small",{staticClass:"form-text text-success"},[s("strong",[t._v("Сorrectly!")])]):t._e()]),t._v(" "),t.eventDetail?t._e():s("div",{staticClass:"form-group"},[s("label",[t._v("5. Is this going to be a reacurring event?")]),t._v(" "),s("div",{staticClass:"custom-controls-stacked"},[s("label",{staticClass:"custom-control custom-radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.recurringEvent,expression:"recurringEvent"}],staticClass:"custom-control-input",attrs:{type:"radio"},domProps:{value:!1,checked:t._q(t.recurringEvent,!1)},on:{click:function(e){t.recurringType=t.recurringDuration=""},change:function(e){t.recurringEvent=!1}}}),t._v(" "),s("span",{staticClass:"custom-control-indicator"}),t._v(" "),s("span",{staticClass:"custom-control-description font-weight-bold"},[t._v("No")])]),t._v(" "),s("label",{staticClass:"custom-control custom-radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.recurringEvent,expression:"recurringEvent"}],staticClass:"custom-control-input",attrs:{type:"radio"},domProps:{value:!0,checked:t._q(t.recurringEvent,!0)},on:{click:function(e){t.recurringType=t.recurringDuration=""},change:function(e){t.recurringEvent=!0}}}),t._v(" "),s("span",{staticClass:"custom-control-indicator"}),t._v(" "),s("span",{staticClass:"custom-control-description font-weight-bold"},[t._v("Yes")])])])]),t._v(" "),t.recurringEvent?s("div",{staticClass:"form-group "},[s("label",[t._v("6. If it is recurring, specify weekly, be-weekly, or monthly.")]),t._v(" "),s("div",{staticClass:"custom-controls-stacked"},[s("label",{staticClass:"custom-control custom-radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.recurringType,expression:"recurringType"}],staticClass:"custom-control-input",attrs:{type:"radio",value:"Weekly"},domProps:{checked:t._q(t.recurringType,"Weekly")},on:{click:function(e){t.recurringDuration=""},change:function(e){t.recurringType="Weekly"}}}),t._v(" "),s("span",{staticClass:"custom-control-indicator"}),t._v(" "),s("span",{staticClass:"custom-control-description font-weight-bold"},[t._v("Weekly")])]),t._v(" "),s("label",{staticClass:"custom-control custom-radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.recurringType,expression:"recurringType"}],staticClass:"custom-control-input",attrs:{type:"radio",value:"Bi-weekly"},domProps:{checked:t._q(t.recurringType,"Bi-weekly")},on:{click:function(e){t.recurringDuration=""},change:function(e){t.recurringType="Bi-weekly"}}}),t._v(" "),s("span",{staticClass:"custom-control-indicator"}),t._v(" "),s("span",{staticClass:"custom-control-description font-weight-bold"},[t._v("Bi-weekly")])]),t._v(" "),s("label",{staticClass:"custom-control custom-radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.recurringType,expression:"recurringType"}],staticClass:"custom-control-input",attrs:{type:"radio",value:"Monthly"},domProps:{checked:t._q(t.recurringType,"Monthly")},on:{click:function(e){t.recurringDuration=""},change:function(e){t.recurringType="Monthly"}}}),t._v(" "),s("span",{staticClass:"custom-control-indicator"}),t._v(" "),s("span",{staticClass:"custom-control-description font-weight-bold"},[t._v("Monthly")])])]),t._v(" "),s("label",{staticClass:"label-input"},[t._v("\n            If weekly or bi-weekly, specify the number of weeks for it keep recurring.\n          ")]),t._v(" "),"Weekly"==t.recurringType?s("div",{staticClass:"row col-md-2"},[s("label",[t._v("Duration:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.recurringDuration,expression:"recurringDuration",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.recurringDuration},on:{input:function(e){e.target.composing||(t.recurringDuration=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),t.validDuration?t._e():s("small",{staticClass:"form-text text-muted"},[t._v("Enter 1 - 4")]),t._v(" "),t.validDuration?s("small",{staticClass:"form-text text-success"},[s("strong",[t._v("Сorrectly!")])]):t._e()]):t._e(),t._v(" "),"Bi-weekly"==t.recurringType?s("div",{staticClass:"row col-md-2"},[s("label",[t._v("Duration:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.recurringDuration,expression:"recurringDuration",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.recurringDuration},on:{input:function(e){e.target.composing||(t.recurringDuration=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),t.validDuration?t._e():s("small",{staticClass:"form-text text-muted"},[t._v("Enter 1 or 2")]),t._v(" "),t.validDuration?s("small",{staticClass:"form-text text-success"},[s("strong",[t._v("Сorrectly!")])]):t._e()]):t._e()]):t._e(),t._v(" "),t.btnDetailAccess&&t.eventDetail&&t.eventDetail.event_id&&t.eventDetail.event_id.length>0?s("div",{staticClass:"form-check"},[s("label",{staticClass:"form-check-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.recurringApplyOccurrences,expression:"recurringApplyOccurrences"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.recurringApplyOccurrences)?t._i(t.recurringApplyOccurrences,null)>-1:t.recurringApplyOccurrences},on:{change:function(e){var s=t.recurringApplyOccurrences,r=e.target,a=!!r.checked;if(Array.isArray(s)){var n=t._i(s,null);r.checked?n<0&&(t.recurringApplyOccurrences=s.concat([null])):n>-1&&(t.recurringApplyOccurrences=s.slice(0,n).concat(s.slice(n+1)))}else t.recurringApplyOccurrences=a}}}),t._v("\n            Apply to all occurrences ?\n          ")])]):t._e()]),t._v(" "),s("router-link",{attrs:{to:"/"}},[s("button",{staticClass:"float-left btn btn-dark"},[t._v("\n          Cancel\n        ")])]),t._v(" "),t.eventDetail?t._e():s("button",{staticClass:"float-right btn btn-dark",attrs:{disabled:!t.validBtnAccess,"data-toggle":"modal","data-target":"#eventInformation"},on:{click:function(e){t.saveEvent()}}},[t._v("\n        Submit\n      ")]),t._v(" "),t.eventDetail&&t.btnDetailAccess&&!t.errorInfoMsg?s("button",{staticClass:"float-right btn btn-dark",attrs:{disabled:!t.validBtnAccess,"data-toggle":"modal","data-target":"#updateConfirm"},on:{click:function(e){t.errorMsg="",t.$emit("clearPastResult")}}},[t._v("\n        Update\n      ")]):t._e(),t._v(" "),t.eventDetail&&t.btnDetailAccess&&!t.errorInfoMsg?s("button",{staticClass:"float-right btn btn-dark mr-5",attrs:{disabled:!t.validBtnAccess,"data-toggle":"modal","data-target":"#deleteConfirm"},on:{click:function(e){t.errorMsg="",t.$emit("clearPastResult")}}},[t._v("\n        Delete\n      ")]):t._e()],1)]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"eventInformation",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),s("div",{staticClass:"modal-body"},[t.errorMsg?s("div",{staticClass:"alert alert-danger"},[s("strong",[t._v(t._s(t.errorMsg))])]):t._e(),t._v(" "),t._l(t.eventSubmited,function(e,r){return t.errorMsg?t._e():s("div",{key:r,staticClass:"alert alert-info"},[s("p",[t._v("\n              "+t._s(r+1)+". Event from "),s("strong",[t._v(t._s(e.start))]),t._v(" to "),s("strong",[t._v(t._s(e.end))]),t._v(" on "+t._s(e.created)+" - "),s("strong",[t._v(t._s(e.success))])]),t._v(" "),s("p",[s("strong",[t._v("Description: ")]),t._v(t._s(e.desc))])])})],2),t._v(" "),t._m(1)])])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"deleteConfirm",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),t.errorMsg?s("div",{staticClass:"alert alert-danger"},[s("strong",[t._v(t._s(t.errorMsg))])]):s("div",{staticClass:"modal-body"},[t._v("\n          Are you sure ?\n        ")]),t._v(" "),t._l(t.eventDeleted,function(e,r){return t.eventDeleted&&t.eventDeleted[0].start?s("div",{key:r,staticClass:"alert alert-info"},[s("p",[t._v("\n            "+t._s(r+1)+". Event from "),s("strong",[t._v(t._s(e.start))]),t._v(" to "),s("strong",[t._v(t._s(e.end))]),t._v(" on "+t._s(e.created)+" - "),s("strong",[t._v("Deleted")])]),t._v(" "),s("p",[s("strong",[t._v("Description: ")]),t._v(t._s(e.desc))])]):t._e()}),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),t.errorMsg?t._e():s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.deleteEvent()}}},[t._v("Yes")])])],2)])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"updateConfirm",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(3),t._v(" "),t.errorMsg?s("div",{staticClass:"alert alert-danger"},[s("strong",[t._v(t._s(t.errorMsg))])]):s("div",{staticClass:"modal-body"},[t._v("\n          Are you sure ?\n        ")]),t._v(" "),t._l(t.eventUpdated,function(e,r){return t.eventUpdated&&t.eventUpdated[0].start?s("div",{key:r,staticClass:"alert alert-info"},[s("p",[t._v("\n            "+t._s(r+1)+". Event from "),s("strong",[t._v(t._s(e.start))]),t._v(" to "),s("strong",[t._v(t._s(e.end))]),t._v(" on "+t._s(e.created)+" - "),s("strong",[t._v(t._s(e.success))])]),t._v(" "),s("p",[s("strong",[t._v("Description: ")]),t._v(t._s(e.desc))])]):t._e()}),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),t.errorMsg?t._e():s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.updateEvent()}}},[t._v("Yes")])])],2)])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Information about creating events")]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Delete Confirm")]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Delete Confirm")]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],n={render:r,staticRenderFns:a};e.a=n},fLJo:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row col-md-12 justify-content-md-center"},[s("div",{staticClass:"row col-md-4"},[s("div",{staticClass:"col-md-12"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"alert alert-success",attrs:{role:"alert"}},[s("strong",[t._v("User edited successfuly!")]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.showModal=!1}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),s("user-form",{attrs:{allUsers:t.allUsers,userInfo:{name:t.name,email:t.email}},on:{saveUser:t.saveUser}})],1)])])},a=[],n={render:r,staticRenderFns:a};e.a=n},gBas:function(t,e,s){"use strict";e.a={name:"AddUser",data:function(){return{URL:URL,name:"",email:"",password:"",confirm:"",nameExist:!1,emailExist:!1,showModal:!1}},props:["allUsers","clearForm","userInfo"],watch:{clearForm:function(){1==this.clearForm&&(this.name="",this.email="",this.password="",this.confirm="")},name:function(){var t=this;this.nameExist=!1,this.allUsers.map(function(e){if(e.name.toLowerCase()==t.name.toLowerCase()&&(!t.userInfo||e.name.toLowerCase()!=t.userInfo.name.toLowerCase()))return t.nameExist=!0,!1})},email:function(){var t=this;this.emailExist=!1,this.allUsers.map(function(e){if(e.email.toLowerCase()==t.email.toLowerCase()&&(!t.userInfo||e.email.toLowerCase()!=t.userInfo.email.toLowerCase()))return t.emailExist=!0,!1})}},created:function(){this.userInfo&&this.userInfo.name&&(this.name=this.userInfo.name,this.email=this.userInfo.email)},computed:{validBtnAccess:function(){return!(!(this.validName&&this.validPassword&&this.validEmail)||this.nameExist||this.emailExist||this.password!=this.confirm)},validName:function(){return!!(/^[a-z]+(\s{1}[a-z]+)?$/i.exec(this.name)&&this.name.length>=3&&this.name.length<=50)},validEmail:function(){return!!(/[a-z0-9!#$&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i.exec(this.email)&&this.email.length>=3&&this.email.length<=50)},validPassword:function(){var t=/^[a-z0-9]+$/i.exec(this.password);return!!(t&&t&&this.password.length>=5&&this.password.length<=32)}},methods:{saveUser:function(){this.$emit("saveUser",{name:this.name,email:this.email,password:this.password})}}}},kQcT:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.day.day))]),t._v(" "),s("div",{staticClass:"day-events font-weight-bold"},t._l(t.day.events,function(e,r){return s("span",{key:r},[s("a",{attrs:{href:""},on:{click:function(s){s.preventDefault(),t.newWindow(e.id)}}},[t._v("\n        "+t._s(t._f("formatTime")(e.start,t.timeFormat))+" - "+t._s(t._f("formatTime")(e.end,t.timeFormat))+"\n      ")]),t._v(" "),s("br")])}))])},a=[],n={render:r,staticRenderFns:a};e.a=n},n3y0:function(t,e){},"nKb+":function(t,e,s){"use strict";var r=s("//Fk"),a=s.n(r),n=s("mvHQ"),o=s.n(n);e.a={name:"Login",data:function(){return{URL:URL,errorMsg:"",name:"",password:""}},props:["user","rooms"],computed:{validBtnAccess:function(){return!(!this.validName||!this.validPassword)},validName:function(){return!!(/^[a-z]+(\s{1}[a-z]+)?$/i.exec(this.name)&&this.name.length>=3&&this.name.length<=50)},validPassword:function(){var t=/^[a-z0-9]+$/i.exec(this.password);return!!(t&&t&&this.password.length>=5&&this.password.length<=32)}},methods:{logIn:function(){var t=this;fetch(this.URL+"user/users/",{method:"PUT",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"name="+this.name+"&password="+this.password}).then(this.status).then(this.json).then(function(e){if(200==e.server.status)t.user.access=!0,t.user.id=e.data.id,t.user.name=e.data.name,t.user.email=e.data.email,t.user.admin=e.data.admin,t.user.hash=e.data.hash,localStorage.user=o()(t.user),t.$router.push("/");else if("13"==e.server.code)t.errorMsg="Enter the correct name!";else if("14"==e.server.code)t.errorMsg="Enter the correct password!";else{var s="Error in logIn()\nStatus: "+e.server.status+"\nError code: "+e.server.code+"\nInfo: "+e.server.information;alert(s)}})},status:function(t){return 200==t.status?a.a.resolve(t):(console.log("ERROR RESPONSE"),a.a.reject(new Error(t.statusText)))},json:function(t){return t.json()}}}},rliA:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("event-form",{attrs:{user:t.user,timeInterval:t.timeInterval,eventSubmited:t.eventSubmited},on:{eventFormSave:t.saveEvent}})},a=[],n={render:r,staticRenderFns:a};e.a=n},t3u0:function(t,e,s){"use strict";var r=s("xLEQ"),a=s("+fNO"),n=s("VU/8"),o=n(r.a,a.a,!1,null,null,null);e.a=o.exports},tso7:function(t,e,s){"use strict";var r=s("1lsa"),a=s("/IEQ"),n=s("VU/8"),o=n(r.a,a.a,!1,null,null,null);e.a=o.exports},vb7P:function(t,e,s){"use strict";var r=s("Ecii"),a=s("dWQQ"),n=s("VU/8"),o=n(r.a,a.a,!1,null,null,null);e.a=o.exports},xJD8:function(t,e,s){"use strict";var r=s("//Fk"),a=s.n(r);e.a={name:"app",data:function(){return{URL:URL,rooms:[],timeInterval:"",user:{access:!1,id:"",name:"",email:"",hash:"",admin:""}}},watch:{},computed:{},created:function(){localStorage.user&&(this.user=JSON.parse(localStorage.user),this.user.access=!0)},methods:{logOut:function(){localStorage.removeItem("user"),this.user.access=!1,fetch(this.URL+"user/users/"+this.user.hash,{method:"DELETE",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(this.status).then(this.json).then(function(t){if(200==t.server.status);else{var e="Error in logOut()\nStatus: "+t.server.status+"\nError code: "+t.server.code+"\nInfo: "+t.server.information;alert(e)}}),this.$router.push("/login")},status:function(t){return 200==t.status?a.a.resolve(t):(console.log("ERROR FETCH RESPONSE!"),a.a.reject(new Error(t.statusText)))},json:function(t){return t.json()}}}},xJsL:function(t,e,s){"use strict";var r=s("nKb+"),a=s("Zoqz"),n=s("VU/8"),o=n(r.a,a.a,!1,null,null,null);e.a=o.exports},xLEQ:function(t,e,s){"use strict";var r=s("//Fk"),a=s.n(r),n=s("woOf"),o=s.n(n),i=s("27G0");e.a={name:"Room",data:function(){return{URL:URL,rooms:[],timeFormat:24,selectedRoom:{id:"",name:""}}},props:["user"],components:{calendar:i.a},created:function(){this.getRooms(),this.$emit("timeIntervalChange",this.timeFormat)},methods:{changeTimeFormat:function(){24==this.timeFormat?this.timeFormat=12:this.timeFormat=24,this.$emit("timeIntervalChange",this.timeFormat)},getRooms:function(){var t=this;fetch(this.URL+"booker/rooms/",{method:"GET"}).then(this.status).then(this.json).then(function(e){if(200==e.server.status)t.rooms=e.data,o()(t.selectedRoom,t.rooms[0]);else{var s="Error in getRooms()\nStatus: "+e.server.status+"\nError code: "+e.server.code+"\nInfo: "+e.server.information;alert(s)}})},status:function(t){return 200==t.status?a.a.resolve(t):(console.log("ERROR RESPONSE"),a.a.reject(new Error(t.statusText)))},json:function(t){return t.json()}}}}},["NHnr"]);
//# sourceMappingURL=app.4860ab8c0db61fd75573.js.map